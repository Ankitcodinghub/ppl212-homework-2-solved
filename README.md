# ppl212-homework-2-solved
**TO GET THIS SOLUTION VISIT:** [PPL212 Homework 2 Solved](https://www.ankitcodinghub.com/product/ppl212-homework-2-solved/)


---

üì© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
üì± **WhatsApp:** +1 419 877 7882  
üìÑ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;92018&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;0&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;0&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;0\/5 - (0 votes)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;PPL212 Homework 2 Solved&quot;,&quot;width&quot;:&quot;0&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 0px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            <span class="kksr-muted">Rate this product</span>
    </div>
    </div>
<div class="page" title="Page 1">
<div class="section">
<div class="layoutArea">
<div class="column">
Question 1: Theoretical Questions

Q1.1 Why are special forms required in programming languages? Why can‚Äôt we simply define

them as primitive operators? Give an example

Q1.2 Write a program in L1, containing more than one expression, where the evaluation of the program‚Äôs expression can be done in parallel (e.g., the interpreter can run a thread for each expression evaluation).

Write a program in L1, containing more than one expression, where the evaluation of the program‚Äôs expression cannot be done in parallel.

&nbsp;

</div>
</div>
<div class="layoutArea">
<div class="column">
1

</div>
</div>
</div>
</div>
<div class="page" title="Page 2">
<div class="section">
<div class="layoutArea">
<div class="column">
Q1.3 Let us define the L0 language as L1 excluding the special form ‚Äòdefine‚Äô. Is there a program in L1 which cannot be transformed to an equivalent program in L0? Explain or give a contradictory example

Q1.4 Let us define the L20 language as L2 excluding the special form ‚Äòdefine‚Äô. Is there a program in L2 which cannot be transformed to an equivalent program in L20? Explain or give a contradictory example

Q1.5 For the following high-order functions in L3, which get a function and a list, indicate (and explain) whether the order of the procedure application on the list items should be sequential or

</div>
</div>
<div class="layoutArea">
<div class="column">
can be ‚Äì

‚Äì ‚Äì ‚Äì

‚Äì

Q1.6 Regarding L31 language, as defined in Q3b (below): what is the value of the following program? Explain.

(define b 1) (define c 2) (define pair

(class (a b)

((first (lambda () a))

(second (lambda () b))

(f (lambda () (+ a b c))) )

)

(define p34 (pair 3 4))

(

(lambda (c) (p34 ‚Äòf)) 5

)

[4 points]

Answers should be submitted in file id1_id2.pdf

</div>
</div>
<div class="layoutArea">
<div class="column">
applied in parallel: map

reduce

filter

all (returns #t is the application of the given boolean function on each of the given list items returns #t)

compose (compose a given procedure with a given list of procedures)

</div>
</div>
<div class="layoutArea">
<div class="column">
2

</div>
</div>
</div>
</div>
<div class="page" title="Page 3">
<div class="section">
<div class="layoutArea">
<div class="column">
Question 2: Programing in L3 [30 points] Q2.1

Write an L3 procedure append, which gets two lists and returns their concatenation. For example:

(append'(12)'(34))‚Üí'(123 4)

Q2.2

Write an L3 procedure reverse, which gets a list and reverses it. For example: (reverse ‚Äò(1 2 3)) ‚Üí ‚Äò(3 2 1)

Q2.3

Write an L3 procedure duplicate-items, which gets two lists ‚Äì lst , dup-count ‚Äì and duplicates each item of lst according to the number defined in the same position in dup-count.

In case dups-count length is smaller than lst, dup-count should be treated as a cyclic list. Examples:

(duplicate-items ‚Äò(1 2 3) ‚Äò(1 0))‚Üí ‚Äò(1 3) (duplicate-items ‚Äò(1 2 3) ‚Äò(2 1 0 10 2))‚Üí ‚Äò(1 1 2)

You may assume that dup-count contains numbers and is not empty.

Q2.4

Write an L3 procedure payment, which gets a sum of money and list of available coins, and returns the number of possible ways to pay the money with these coins.

Examples:

(payment 10 ‚Äò(5 5 10)) ‚Üí 2 [1 coin of 10 ,2 coins of 5]

(payment 5 ‚Äò(1 1 1 2 2 5 10) ‚Üí 3

[1 coin of 5, 1 coin of 2 and 3 coins of 1, 2 coins of 2 and 1 coin of 1]

</div>
</div>
<div class="layoutArea">
<div class="column">
3

</div>
</div>
</div>
</div>
<div class="page" title="Page 4">
<div class="section">
<div class="layoutArea">
<div class="column">
Q2.5

Write an L3 procedure compose-n, which gets an unary function f and a number n (&gt;0) and returns the closure of the n-th self-composition of f:

For example:

(define mul8 (compose-n (lambda (x) (* 2 x)) 3)) (mul8 3) ‚Üí 24

You may add auxiliary procedures to all questions.

The code (without comments) should be submitted in file src/q2.l3

Don‚Äôt forget to write a contract for each of the above procedures.

<pre>; Signature:
; Type:
; Purpose:
; Pre-conditions:
; Tests:
</pre>
Write the contracts in file id1_id2.pdf.

You can test your code with test/q2-tests.ts

Question 3: Syntactic Parsing &amp; Transformations [25 points]

Let us define the L31 as L3 with the addition of the special form ‚Äòclass‚Äô for class definition:

A ‚Äòclass‚Äô expression is defined by a list of ‚Äòfields‚Äô and a list of methods (as bindings ‚Äì method names and method expressions), as given by the following abstract and concrete syntax:

</div>
</div>
<div class="layoutArea">
<div class="column">
&lt;program&gt; ::= (L31 &lt;exp&gt;+)

&lt;exp&gt; ::= &lt;define&gt; | &lt;cexp&gt;

&lt;define&gt; ::= ( define &lt;var&gt; &lt;cexp&gt; ) val:CExp)

&lt;var&gt; ::= &lt;identifier&gt;

&lt;cexp&gt; ::= &lt;number&gt;

<ul>
<li>| &nbsp;&lt;boolean&gt;</li>
<li>| &nbsp;&lt;string&gt;</li>
<li>| &nbsp;( lambda ( &lt;var&gt;* ) &lt;cexp&gt;+ |</li>
</ul>
</div>
<div class="column">
/ / /

/ / / / )

</div>
<div class="column">
Program(exps:List(exp)) DefExp | CExp DefExp(var:VarDecl,

VarRef(var:string) NumExp(val:number) BoolExp(val:boolean) StrExp(val:string)

/ ProcExp(args:VarDecl[],

/ body:CExp[]))

</div>
</div>
<div class="layoutArea">
<div class="column">
<pre>|  ( class ( &lt;var&gt;+ ) ( &lt;binding&gt;+ ) )
            / ClassExp(fields:VarDecl[], methods:Binding[]))
</pre>
| ( if &lt;cexp&gt; &lt;cexp&gt; &lt;cexp&gt; ) / IfExp(test: CExp,

</div>
</div>
<div class="layoutArea">
<div class="column">
4

</div>
</div>
</div>
</div>
<div class="page" title="Page 5">
<div class="section">
<div class="layoutArea">
<div class="column">
|

|

| ( let ( &lt;binding&gt;*

LetExp(bindings:Binding[], |

| | |

&lt;binding&gt; | &lt;prim-op&gt;

&lt;num-exp&gt; &lt;bool-exp&gt; &lt;str-exp&gt; &lt;var-ref&gt; &lt;var-decl&gt; &lt;sexp&gt;

</div>
<div class="column">
) &lt;cexp&gt;+ ) /

)

</div>
<div class="column">
then: CExp, alt: CExp)

body:CExp[])) / LitExp(val:SExp)

/ AppExp(operator:CExp, operands:CExp[]))

/ Binding(var:VarDecl, val:Cexp)

</div>
</div>
<div class="layoutArea">
<div class="column">
( quote &lt;sexp&gt; )

( &lt;cexp&gt; &lt;cexp&gt;* )

::= ( &lt;var&gt; &lt;cexp&gt;

</div>
</div>
<div class="layoutArea">
<div class="column">
::=+|-|*|/|&lt;|&gt;|=|not| eq?|string=?

| cons | car | cdr | list | pair? | list? | number? | boolean? | symbol? | string?

::= a number token

::= #t | #f

::= ‚Äútokens*‚Äù

::= an identifier token

::= an identifier token

::= symbol | number | bool | string | ( &lt;sexp&gt;* )

</div>
</div>
<div class="layoutArea">
<div class="column">
The class Pair in Java, for example, can be defined in L31 with the new special for as follows:

// Java class Pair {

private int a,b;

Pair(int a, int b) { this.a = a; this.b = b; } int first() { return a; }

int second() { return b; }

int sum() { return a + b; }

}

//L31 (define pair

(class (a b)

((first (lambda () a))

(second (lambda () b))

(sum (lambda () (+ a b))) )

)

</div>
</div>
<div class="layoutArea">
<div class="column">
a. Add the new ‚Äòclass‚Äô special form to the parser of L31 (the file ‚Äòsrc/L31-ast.ts‚Äô):

</div>
</div>
<div class="layoutArea">
<div class="column">
5

</div>
</div>
</div>
</div>
<div class="page" title="Page 6">
<div class="section">
<div class="layoutArea">
<div class="column">
In order to create an instance of a given class, the class should be ‚Äòapplied‚Äô with the parameters for the fields (as done with constructor in languages like Java)

// Java

Pair p34 = new Pair(3,4);

// L31

(define p34 (pair 3 4))

In order to call a method in L31, the instance should be applied with a symbol which denote the method:

// Java p34.first(); ‚Üí3 p43.second(); ‚Üí4 p34.sum(); ‚Üí7

// L31

(p34 ‚Äòfirst) ‚Üí3

(p34 ‚Äòsecond) ‚Üí4

(p34 ‚Äòadd) ‚Üí7

In order to avoid the implementation of the semantics of the ‚Äòclass‚Äô form in the interpreter of L31, one of the students suggested transforming a given ‚Äòclass‚Äô expression to an equivalent AppExp. The Pair class, for example, can be expressed by the following ProcExp (for simplicity, we assume that the methods of the class have no parameter, and that #f indicates error in the transformed code as done in the following example):

(define pair (lambda (a b)

(lambda (msg)

(if (eq? msg ‚Äòfirst)

((lambda () a) )

(if (eq? msg ‚Äòsecond)

((lambda () b) ) (if (eq? msg ‚Äòsum)

((lambda () (+ a b)) )

</div>
</div>
<div class="layoutArea">
<div class="column">
6

</div>
</div>
</div>
</div>
<div class="page" title="Page 7">
<div class="section">
<div class="layoutArea">
<div class="column">
#f))))))

b. Implement the procedure class2proc (at file src/q3.ts), which applies a syntactic transformation from a ClassExp to an equivalent ProcExp.

Implement the procedure L31ToL3 (at file src/q3.ts), which gets an L31 AST and returns an equivalent L3 AST.

The code should be submitted in files src/q3.ts, src/L31-ast.ts You can test your code with test/q3-tests.ts

Question 4: Code translation [15 points]

Write the procedure l2ToPython which transforms a given L2 program to a Python program. For example:

(+ 3 5) ‚áí (3 + 5)

(if (&gt; x 3) 4 5) ‚áí (4 if (x &gt; 3) else 5)

(lambda (x y) (* x y)) ‚áí (lambda x, y : (x * y)) ((lambda(xy)(*xy))34)‚áí (lambdax,y:(x*y))(3,4) (define pi 3.14) ‚áí pi = 3.14

(define f (lambda (x y) (* x y))) ‚áí f = (lambda x, y : (x * y)) (f 3 4) ‚áí f(3,4)

boolean? ‚áí (lambda x : (type(x) == bool))

(L3

(define b (&gt; 3 4))

(define x 5)

(define f (lambda (y) (+ x y))) (define g (lambda (y) (* x y))) (if (not b) (f 3) (g 4))

(if (= a b) (f 3) (g 4))

</div>
</div>
<div class="layoutArea">
<div class="column">
7

</div>
</div>
</div>
</div>
<div class="page" title="Page 8">
<div class="section">
<div class="layoutArea">
<div class="column">
(if (&gt; a b) (f 3) (g 4)) ((lambda (x) (* x x)) 7) )

‚áí

</div>
</div>
<div class="layoutArea">
<div class="column">
b = (3 &gt; 4)

x=5

f = (lambda

g = (lambda

(f(3) if (not b) else g(4)) (f(3) if (a == b) else g(4)) (f(3) if (a &gt; b) else g(4)) (lambda x : (x * x))(7)

The procedure gets an L2 AST and returns a string of the equivalent Python program.

To make things simpler, you can assume that the body of the lambda expressions contains one expression.

Note: The primitive operators of L2 are: +, -, *, /, &lt;, &gt;, =, number?, boolean?, eq?, and, or, not Hint: Take a look at the unparse procedure.

</div>
</div>
</div>
</div>
